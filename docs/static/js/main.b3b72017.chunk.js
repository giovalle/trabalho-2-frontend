(this["webpackJsonptrabalho-2-frontend"]=this["webpackJsonptrabalho-2-frontend"]||[]).push([[0],{94:function(e,t,n){},95:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(12),s=n.n(c),i=n(27),o=n(148),u=n(97),l=n(11),h=n(10),j=n.n(h),b=n(33),d=n(18),p=n(52),f=n(147),O=n(141),x=n(145),g=n(144),m=n(139),v=n(142),w=n(143),k=n(140),y=n(136),C=n(146),N=n(68),S=n.n(N),P=n(67),I=n.n(P),T=n(138),E=n(66),W=n.n(E),B=n(133),_="https://infinite-fortress-32011.herokuapp.com",J=function(){var e=Object(d.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(_,"/pessoas?t=").concat(Date.now()));case 2:return t=e.sent,e.abrupt("return",t.json());case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),L=function(){var e=Object(d.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch("".concat(_,"/pessoas"),{method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),F=function(){var e=Object(d.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(_,"/pessoas/").concat(t));case 2:return n=e.sent,e.abrupt("return",n.json());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),A=function(){var e=Object(d.a)(j.a.mark((function e(t,n){var a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(JSON.stringify(n)),e.next=3,fetch("".concat(_,"/pessoas/").concat(t),{method:"PUT",body:JSON.stringify(n),headers:{"Content-Type":"application/json"}});case 3:return a=e.sent,e.abrupt("return",a.json());case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),D=function(){var e=Object(d.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch("".concat(_,"/pessoas/").concat(t),{method:"DELETE"}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),M=n(4),z=Object(B.a)({header:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center"}}),G=function(){var e=Object(a.useState)({persons:[],error:!1,loading:!1}),t=Object(p.a)(e,2),n=t[0],r=t[1],c=z(),s=Object(a.useCallback)(Object(d.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r((function(e){return Object(b.a)(Object(b.a)({},e),{},{loading:!0})})),e.prev=1,e.next=4,J();case 4:t=e.sent,r((function(e){return Object(b.a)(Object(b.a)({},e),{},{persons:t,loading:!1})})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),r((function(e){return Object(b.a)(Object(b.a)({},e),{},{error:!0,loading:!1})}));case 11:case"end":return e.stop()}}),e,null,[[1,8]])}))),[]);Object(a.useEffect)((function(){s()}),[s]);var o=Object(a.useCallback)((function(e){return Object(d.a)(j.a.mark((function t(){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,D(e);case 2:s();case 3:case"end":return t.stop()}}),t)})))}),[s]),u=n.error,l=n.loading,h=n.persons;return Object(M.jsxs)(M.Fragment,{children:[Object(M.jsxs)("div",{className:c.header,children:[Object(M.jsx)(y.a,{variant:"h3",children:"Pessoas"}),Object(M.jsx)(T.a,{variant:"contained",component:i.b,to:"/pessoas/novo",color:"primary",startIcon:Object(M.jsx)(W.a,{}),children:"Incluir"})]}),!u&&!l&&Object(M.jsx)(m.a,{component:k.a,children:Object(M.jsxs)(O.a,{"aria-label":"persons",children:[Object(M.jsx)(v.a,{children:Object(M.jsxs)(w.a,{children:[Object(M.jsx)(g.a,{children:"Nome"}),Object(M.jsx)(g.a,{align:"right",children:"Idade"}),Object(M.jsx)(g.a,{children:"G\xeanero"}),Object(M.jsx)(g.a,{align:"right",children:"Altura (cm)"}),Object(M.jsx)(g.a,{align:"right",children:"Peso (kg)"}),Object(M.jsx)(g.a,{align:"right"})]})}),Object(M.jsx)(x.a,{children:h.map((function(e){return Object(M.jsxs)(w.a,{children:[Object(M.jsx)(g.a,{children:e.name}),Object(M.jsx)(g.a,{align:"right",children:e.age}),Object(M.jsx)(g.a,{children:e.gender}),Object(M.jsx)(g.a,{align:"right",children:e.height}),Object(M.jsx)(g.a,{align:"right",children:e.weight}),Object(M.jsxs)(g.a,{align:"right",children:[Object(M.jsx)(C.a,{"aria-label":"edit",color:"secondary",component:i.b,to:"/pessoas/".concat(e._id),children:Object(M.jsx)(I.a,{})}),Object(M.jsx)(C.a,{"aria-label":"delete",color:"secondary",onClick:o(e._id),children:Object(M.jsx)(S.a,{})})]})]},e._id)}))})]})}),u&&!l&&Object(M.jsx)("h1",{children:"Erro, amig\xe3o."}),l&&Object(M.jsx)(f.a,{})]})},V=n(71),R=n(149),U=[{value:"-",label:"Prefiro n\xe3o dizer"},{value:"M",label:"Masculino"},{value:"F",label:"Feminino"},{value:"N",label:"N\xe3o bin\xe1rio"}],q=Object(u.a)({input:{marginTop:24}}),H=function(e){var t=e.data,n=e.creating,r=e.onSubmit,c=q(),s=Object(l.f)(),i=Object(V.a)({initialValues:t||{name:"",age:"",gender:"-",height:"",weight:""},enableReinitialize:!0,onSubmit:r}),o=Object(a.useCallback)((function(){s.goBack()}),[s]);return Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)(y.a,{variant:"h3",children:n?"Criando pessoa":"Editando pessoa"}),Object(M.jsxs)("form",{onSubmit:i.handleSubmit,children:[Object(M.jsx)(R.a,{fullWidth:!0,id:"name",name:"name",label:"Nome",placeholder:"Nome",className:c.input,value:i.values.name,onChange:i.handleChange,error:i.touched.name&&Boolean(i.errors.name),helperText:i.touched.name&&i.errors.name,InputLabelProps:{shrink:!0}}),Object(M.jsx)(R.a,{fullWidth:!0,id:"age",name:"age",label:"Idade",type:"number",placeholder:"Idade",className:c.input,value:i.values.age,onChange:i.handleChange,error:i.touched.age&&Boolean(i.errors.age),helperText:i.touched.age&&i.errors.age,InputLabelProps:{shrink:!0}}),Object(M.jsx)(R.a,{fullWidth:!0,id:"gender",select:!0,label:"G\xeanero",SelectProps:{native:!0},className:c.input,value:i.values.gender,onChange:i.handleChange,children:U.map((function(e){return Object(M.jsx)("option",{value:e.value,children:e.label},e.value)}))}),Object(M.jsx)(R.a,{fullWidth:!0,id:"height",name:"height",label:"Altura",type:"number",placeholder:"Altura",className:c.input,value:i.values.height,onChange:i.handleChange,error:i.touched.height&&Boolean(i.errors.height),helperText:i.touched.height&&i.errors.height,InputLabelProps:{shrink:!0}}),Object(M.jsx)(R.a,{fullWidth:!0,id:"weight",name:"weight",label:"Peso",type:"number",placeholder:"Peso",className:c.input,value:i.values.weight,onChange:i.handleChange,error:i.touched.weight&&Boolean(i.errors.weight),helperText:i.touched.weight&&i.errors.weight,InputLabelProps:{shrink:!0}}),Object(M.jsx)(T.a,{color:"primary",variant:"contained",fullWidth:!0,type:"submit",className:c.input,children:"Submeter"}),Object(M.jsx)(T.a,{variant:"contained",fullWidth:!0,onClick:o,children:"Voltar"})]})]})},K=function(){var e=Object(l.g)().id,t=Object(l.f)(),n=Object(a.useState)(void 0),r=Object(p.a)(n,2),c=r[0],s=r[1];Object(a.useEffect)((function(){(function(){var t=Object(d.a)(j.a.mark((function t(){var n;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,F(e);case 2:delete(n=t.sent)._id,delete n.__v,s(n);case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[e]);var i=Object(a.useCallback)(function(){var n=Object(d.a)(j.a.mark((function n(a){return j.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,A(e,a);case 2:t.push("/");case 3:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),[t,e]);return Object(M.jsx)(H,{data:c,onSubmit:i},e)},Q=function(){var e=Object(l.f)(),t=Object(a.useCallback)(function(){var t=Object(d.a)(j.a.mark((function t(n){var a;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,L(n);case 2:a=t.sent,console.log(a),e.push("/");case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),[e]);return Object(M.jsx)(H,{creating:!0,onSubmit:t})},X=function(){return Object(M.jsxs)(l.c,{children:[Object(M.jsx)(l.a,{exact:!0,path:"/",children:Object(M.jsx)(G,{})}),Object(M.jsx)(l.a,{exact:!0,path:"/pessoas/novo",children:Object(M.jsx)(Q,{})}),Object(M.jsx)(l.a,{exact:!0,path:"/pessoas/:id",children:Object(M.jsx)(K,{})})]})},Y=Object(u.a)({container:{marginTop:"32px",marginBottom:"16px"}}),Z=function(){var e=Y();return Object(M.jsx)(o.a,{maxWidth:"md",className:e.container,children:Object(M.jsx)(i.a,{basename:"/trabalho-2-frontend",children:Object(M.jsx)(X,{})})})};n(94);s.a.render(Object(M.jsx)(r.a.StrictMode,{children:Object(M.jsx)(Z,{})}),document.getElementById("root"))}},[[95,1,2]]]);
//# sourceMappingURL=main.b3b72017.chunk.js.map